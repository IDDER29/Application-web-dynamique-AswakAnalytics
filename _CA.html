<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/gh/eliyantosarage/font-awesome-pro@main/fontawesome-pro-6.5.1-web/css/all.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
      rel="stylesheet"
    />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./listOfMagazines.css" />

    <script src="display_moyen_arrith.js" defer></script>
    <script src="display_mode.js" defer></script>
    <script src="display_mediane.js" defer></script>
    <script src="display_ecart_type.js" defer></script>


    <title>Magazines</title>
  </head>

  <body id="body-pd">
    <header class="header" id="header">
      <div class="header_toggle">
        <i class="bx bx-menu" id="header-toggle"></i>
      </div>
      <div class="d-flex flex-row align-items-center gap-3">
        <i class="bx bx-bell nav_icon"></i>
        <div class="header_img"><img src="./img/userImg.png" alt="user" /></div>
      </div>
    </header>
    <div class="l-navbar" id="nav-bar">
        <!-- yasser comment -->
      <nav class="nav2">
        <div>
          <a href="#" class="nav_logo">
            <span class="nav_icon aside_logo"
              ><img src="./img/logo.png" alt=""
            /></span>
            <span class="nav_logo-name">Aswak Salam</span>
          </a>
          <div class="nav_list">
            <a href="#" class="nav_link active">
              <i class="bx bxs-dashboard nav_icon"></i>
              <!-- <i class="bx bx-grid-alt nav_icon"></i> -->
              <span class="nav_name">Dashboard</span>
            </a>
            <a href="#" class="nav_link">
              <i class="bx bxs-store-alt nav_icon"></i>
              <span class="nav_name">Magasins</span>
            </a>
            <a href="#" class="nav_link">
              <i class="bx bxs-add-to-queue nav_icon"></i>
              <span class="nav_name">Ajouter Magasin</span>
            </a>
          </div>
        </div>
        <a href="#" class="nav_link">
          <i class="bx bx-log-out nav_icon"></i>
          <span class="nav_name">SignOut</span>
        </a>
      </nav>
    </div>
    <div>

    <div class="row" >
        <ul class="nav nav-tabs">
            <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="#">CA</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">Effectif</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">Surface</a>
            </li>
        </ul>

    </div><br>

    <div class="row row-cols-1 row-cols-md-3 g-3 justify-content-between ">
        <!-- Card 1 -->
        <div class="card border shadow mb-4" >
            <div class="card-body d-flex justify-content-center flex-column">
                <h6 class="card-subtitle mb-2 text-muted">Moyenne arithmétique pondérée</h6>
                <h4 class="card-title" id="ca_moyenne_arithm">Chargement...</h4>
                <p class="card-text">Le chiffre d'affaires moyen de tous les magasins.</p>
            </div>
        </div>

        <!-- Card 2 -->
        <div class="card border shadow mb-4" >
            <div class="card-body d-flex justify-content-center flex-column">
                <h6 class="card-subtitle mb-2 text-muted">Mode</h6>
                <h4 class="card-title" id="ca_mode">Chargement...</h4>
                <p class="card-text">Le chiffre d'affaire réalisé par le plus grand nombre de magasins est 4 764 000
                    DH.</p>
            </div>
        </div>

        <!-- Card 3 -->
        <div class="card border shadow mb-4" >
            <div class="card-body d-flex justify-content-center flex-column">
                <h6 class="card-subtitle mb-2 text-muted">Médiane</h6>
                <h4 class="card-title" id="ca_mediane">Chargement...</h4>
                <p class="card-text">50% des magasins réalisent un chiffre d'affaires inférieur à 4 700 000 DHs et
                    50% réalisent un chiffre d'affaires supérieur à ce résultat.</p>
            </div>
        </div>
        <canvas id="myChart" style="width:100%;max-width:600px;max-height: 300px;"></canvas>

        <div class="card border shadow mb-4 " >
            <div class="card-body d-flex justify-content-around flex-column">
                <h6 class="card-subtitle mb-2 text-muted">Ecart-type et coefficient de variation</h6>
                <h4 class="card-title" id="ecart_type_x">Chargement...</h4>
                <p class="card-text">l'écart-type montre que les CA des magasins s'écartent en moyenne de
                    610000dhs, et le coefficient de variation est de 0,131 ce qui signifie que l'écart type
                    represente 13,1% de la moyenne, donc la plupart des CA sont centrés autour du CA moyen</p>
            </div>
        </div>
        <!-- <div class="card" style="width: 22rem;">
            <div class="card border" style="width: 1fr; " >
                <div class="card-body shadow">
                    <h6 class="card-subtitle mb-2 text-muted">Ecart-type et coefficient de variation</h6>
                    <h4 class="card-title">XX,X %</h4>
                    <p class="card-text">l'écart-type montre que les CA des magasins s'écartent en moyenne de
                        610000dhs, et le coefficient de variation est de 0,131 ce qui signifie que l'écart type
                        represente 13,1% de la moyenne, donc la plupart des CA sont centrés autour du CA moyen</p>
                </div>
            </div>
        </div> -->
    </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        var xValues = ["Jan", "Fev", "Mar", "Avr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
        // var yValues = [55, 49, 44, 24, 15, 49, 44, 24, 15, 49, 44, 24, 15];
        let caData_JSON = localStorage.getItem("caData");
        let yValues = JSON.parse(caData_JSON);


        new Chart("myChart", {
            type: "bar",
            data: {
                labels: xValues,
                datasets: [{
                    backgroundColor: "blue",
                    data: yValues
                }]
            },
            options: {
                plugins: {
                    legend: { display: false },
                    title: {
                        display: true,
                        text: "Products sold this year"
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            stepSize: 100
                        }
                    }
                }
            }
        });
    </script>

    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css"></script>

    <script src="./listOfMagazines.js"></script>
  </body>
</html>
